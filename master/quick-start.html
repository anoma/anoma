<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Quick Start - Anoma - DOCS</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="assets/custom.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="quick-start.html" class="active"><strong aria-hidden="true">2.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="user-guide/index.html"><strong aria-hidden="true">3.</strong> User Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user-guide/install.html"><strong aria-hidden="true">3.1.</strong> Install</a></li><li class="chapter-item expanded "><a href="user-guide/getting-started.html"><strong aria-hidden="true">3.2.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="user-guide/wallet.html"><strong aria-hidden="true">3.3.</strong> The Wallet</a></li><li class="chapter-item expanded "><a href="user-guide/ledger.html"><strong aria-hidden="true">3.4.</strong> The Ledger</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user-guide/ledger/pos.html"><strong aria-hidden="true">3.4.1.</strong> Interact with PoS</a></li><li class="chapter-item expanded "><a href="user-guide/ledger/customize.html"><strong aria-hidden="true">3.4.2.</strong> Customize</a></li></ol></li><li class="chapter-item expanded "><a href="user-guide/intent-gossip-and-matchmaker.html"><strong aria-hidden="true">3.5.</strong> The Intent gossip and Matchmaker</a></li></ol></li><li class="chapter-item expanded "><a href="explore/index.html"><strong aria-hidden="true">4.</strong> Exploration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/index.html"><strong aria-hidden="true">4.1.</strong> Design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/overview.html"><strong aria-hidden="true">4.1.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="explore/design/gossip.html"><strong aria-hidden="true">4.1.2.</strong> Gossip network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/intent_gossip/intent_gossip.html"><strong aria-hidden="true">4.1.2.1.</strong> Intent gossip</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/intent_gossip/intent.html"><strong aria-hidden="true">4.1.2.1.1.</strong> Intent</a></li><li class="chapter-item expanded "><a href="explore/design/intent_gossip/topic.html"><strong aria-hidden="true">4.1.2.1.2.</strong> Topic</a></li><li class="chapter-item expanded "><a href="explore/design/intent_gossip/incentive.html"><strong aria-hidden="true">4.1.2.1.3.</strong> Incentive</a></li><li class="chapter-item expanded "><a href="explore/design/intent_gossip/matchmaker.html"><strong aria-hidden="true">4.1.2.1.4.</strong> Matchmaker</a></li><li class="chapter-item expanded "><a href="explore/design/intent_gossip/fungible_token.html"><strong aria-hidden="true">4.1.2.1.5.</strong> Fungible token</a></li></ol></li><li class="chapter-item expanded "><a href="explore/design/dkg.html"><strong aria-hidden="true">4.1.2.2.</strong> Distributed key generation gossip</a></li></ol></li><li class="chapter-item expanded "><a href="explore/design/ledger.html"><strong aria-hidden="true">4.1.3.</strong> The ledger</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/ledger/parameters.html"><strong aria-hidden="true">4.1.3.1.</strong> Parameters</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/epochs.html"><strong aria-hidden="true">4.1.3.2.</strong> Epochs</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/accounts.html"><strong aria-hidden="true">4.1.3.3.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/vp.html"><strong aria-hidden="true">4.1.3.4.</strong> Validity predicates</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/tx.html"><strong aria-hidden="true">4.1.3.5.</strong> Transactions</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/wasm-vm.html"><strong aria-hidden="true">4.1.3.6.</strong> WASM VM</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/front-running.html"><strong aria-hidden="true">4.1.3.7.</strong> Front-running prevention</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/fractal-scaling.html"><strong aria-hidden="true">4.1.3.8.</strong> Fractal scaling</a></li><li class="chapter-item expanded "><a href="explore/design/upgrade-system.html"><strong aria-hidden="true">4.1.3.9.</strong> Upgrade system</a></li><li class="chapter-item expanded "><a href="explore/design/ledger/storage.html"><strong aria-hidden="true">4.1.3.10.</strong> Storage</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/design/ledger/storage/data-schema.html"><strong aria-hidden="true">4.1.3.10.1.</strong> Data schema</a></li></ol></li><li class="chapter-item expanded "><a href="explore/design/ledger/pos-integration.html"><strong aria-hidden="true">4.1.3.11.</strong> PoS integration</a></li></ol></li><li class="chapter-item expanded "><a href="explore/design/crypto-primitives.html"><strong aria-hidden="true">4.1.4.</strong> Crypto primitives</a></li><li class="chapter-item expanded "><a href="explore/design/actors.html"><strong aria-hidden="true">4.1.5.</strong> Actors</a></li><li class="chapter-item expanded "><a href="explore/design/pos.html"><strong aria-hidden="true">4.1.6.</strong> Proof of Stake system</a></li></ol></li><li class="chapter-item expanded "><a href="explore/prototypes/index.html"><strong aria-hidden="true">4.2.</strong> Prototypes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/prototypes/base-ledger.html"><strong aria-hidden="true">4.2.1.</strong> Base ledger</a></li><li class="chapter-item expanded "><a href="explore/prototypes/gossip-layer.html"><strong aria-hidden="true">4.2.2.</strong> Gossip layer</a></li></ol></li><li class="chapter-item expanded "><a href="explore/libraries/index.html"><strong aria-hidden="true">4.3.</strong> Libraries &amp; Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.1.</strong> Cryptography</div></li><li class="chapter-item expanded "><a href="explore/libraries/network.html"><strong aria-hidden="true">4.3.2.</strong> network</a></li><li class="chapter-item expanded "><a href="explore/libraries/cli.html"><strong aria-hidden="true">4.3.3.</strong> Command-line interface</a></li><li class="chapter-item expanded "><a href="explore/libraries/db.html"><strong aria-hidden="true">4.3.4.</strong> Database</a></li><li class="chapter-item expanded "><a href="explore/libraries/logging.html"><strong aria-hidden="true">4.3.5.</strong> Logging</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.6.</strong> Networking</div></li><li class="chapter-item expanded "><a href="explore/libraries/packaging.html"><strong aria-hidden="true">4.3.7.</strong> Packaging</a></li><li class="chapter-item expanded "><a href="explore/libraries/serialization.html"><strong aria-hidden="true">4.3.8.</strong> Serialization</a></li><li class="chapter-item expanded "><a href="explore/libraries/wasm.html"><strong aria-hidden="true">4.3.9.</strong> WASM runtime</a></li><li class="chapter-item expanded "><a href="explore/libraries/errors.html"><strong aria-hidden="true">4.3.10.</strong> Error handling</a></li></ol></li><li class="chapter-item expanded "><a href="explore/design/glossary.html"><strong aria-hidden="true">4.4.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="explore/resources/index.html"><strong aria-hidden="true">4.5.</strong> Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="explore/resources/ide.html"><strong aria-hidden="true">4.5.1.</strong> IDE</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="specs/index.html"><strong aria-hidden="true">5.</strong> Specifications</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="specs/overview.html"><strong aria-hidden="true">5.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="specs/ledger.html"><strong aria-hidden="true">5.2.</strong> The ledger</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> Trade system</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Intent gossip system</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Fractal scaling</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.6.</strong> Upgrade system</div></li><li class="chapter-item expanded "><a href="specs/encoding.html"><strong aria-hidden="true">5.7.</strong> Encoding</a></li></ol></li><li class="chapter-item expanded "><a href="archive/index.html"><strong aria-hidden="true">6.</strong> Archive</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="archive/domain-name-addresses.html"><strong aria-hidden="true">6.1.</strong> Domain name addresses</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anoma - DOCS</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="quick-start---how-to-install-anoma-and-run-a-validator-node"><a class="header" href="#quick-start---how-to-install-anoma-and-run-a-validator-node">Quick Start - How to install Anoma and run a validator node</a></h1>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<ul>
<li>Building from source requires at least 16GB of ram available and 4 core cpu,</li>
<li>Free disk space of at least 60GB,</li>
<li>Intel i3 or better will suffice.</li>
<li>Tendermint 0.34.x pre-installed </li>
</ul>
<p>To install the correct version of Tendermint, download any of the pre-built binaries for versions 0.34.x <a href="https://github.com/tendermint/tendermint/releases">here</a> and install it using the instructions on the [Tendermint guide](https://docs.tendermint.com/master/introduction/install.html}, or use a script on the Anoma repo 
<code>scripts/install/get_tendermint.sh</code> This is used by the <code>make install</code> command (if you’re installing from the source).</p>
<p>At the moment we are not supporting windows.</p>
<p>This guide also assumes that the user has a basic knowledge of the terminal and how commands are used.</p>
<h2 id="about-this-guide"><a class="header" href="#about-this-guide">About this guide</a></h2>
<ul>
<li>Commands start with <code>$</code>:<br />
<code>$ this is a command do not copy the dollar sign!</code></li>
<li>Comments start with <code>#</code>:<br />
<code># this is a comment make sure you read them!</code></li>
<li>Sample outputs start with an arrow:<br />
<code>➜ this is an example command line output useful for comparing</code></li>
</ul>
<h2 id="install-anoma"><a class="header" href="#install-anoma">Install Anoma</a></h2>
<p>To pull the latest Anoma executables on Linux (at time of writing, this is <a href="https://github.com/anoma/anoma/releases/tag/v0.3.1">Anoma v.0.3.1</a>):</p>
<pre><code class="language-shell">$ curl -LO https://github.com/anoma/anoma/releases/download/v0.3.1/anoma-v0.3.1-Linux-x86_64.tar.gz

➜ 2022-01-06 22:13:01 (12.0 MB/s) - 'anoma-v0.3.1-Linux-x86_64.tar.gz' saved [25169169/25169169]
</code></pre>
<p>or on Mac:</p>
<pre><code class="language-shell">$ curl -LO https://github.com/anoma/anoma/releases/download/v0.3.1/anoma-v0.3.1-Darwin-x86_64.tar.gz 
</code></pre>
<p>Extract them with:</p>
<pre><code class="language-shell">$ tar -x -z -f anoma-v0.3.1-[platform].tar.gz
</code></pre>
<p>and change directory with:</p>
<p><code>$ cd anoma-v0.3.1-[platform]</code></p>
<p>Remember to replace <code>[platform]</code> with your platform (without brackets). This could be 'Linux-x86_64' for Linux or 'Darwin-x86_64' for Mac.</p>
<h2 id="configure"><a class="header" href="#configure">Configure</a></h2>
<p>Still in the same directory as above</p>
<pre><code class="language-shell">$ ./anomac utils join-network --chain-id=anoma-testnet-1.2.bf0181d9f7e0

➜ Downloading config release from https://github.com/heliaxdev/anoma-network-config/releases/download/anoma-testnet-1.2.bf0181d9f7e0/anoma-testnet-1.2.bf0181d9f7e0.tar.gz ...
➜ Successfully configured for chain ID anoma-testnet-1.2.bf0181d9f7e0
</code></pre>
<h2 id="run"><a class="header" href="#run">Run</a></h2>
<p>We recommend this step with tmux, as you can keep the node running without needing the terminal open permanently. If not, skip to the subsequent step.</p>
<pre><code class="language-shell">$ tmux

# inside the tmux/or not

$ ./anoma ledger

# can detach the tmux (Ctrl-B then D)
</code></pre>
<p>This should sync your node to the ledger and will take a while (depending on your computer). Subsequent commands (generating an account, etc.)  are unlikely to work until it is fully synced. Enquire the current block height with other participants to make sure you are synced in order to proceed.</p>
<h2 id="account"><a class="header" href="#account">Account</a></h2>
<p>Generate a local key on disk</p>
<pre><code class="language-shell"># first, we make a keypair and the implicit account associated with it
# anomaw address gen instead of key gen. Preferred because they both make a keypair but the former stores the implicit address for it too 

$ ./anomaw address gen --alias example-implicit

➜ Enter encryption password: 
Successfully added a key and an address with alias: &quot;example-implicit&quot;

# use it to make an established account
</code></pre>
<p>To initialize an account operator on chain under the alias &quot;example-established&quot;:</p>
<pre><code class="language-shell">$ ./anomac init-account --source example-implicit --public-key example-implicit --alias example-established

➜ Jan 06 22:22:19.864  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Enter decryption password: 
Last committed epoch: 22386
Transaction added to mempool: Response { code: Ok, data: Data([]), log: Log(&quot;Mempool validation passed&quot;), hash: transaction::Hash(9193C2B2C56AAB1B081B18DA0FBBD4B26C5EF7CEE4B35812ECCB1CC1D1443C45) }
Transaction applied with result: {
  &quot;info&quot;: &quot;Transaction is valid. Gas used: 6080310; Changed keys: #atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw/?, #atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw/ed25519_pk; VPs result: &quot;,
  &quot;height&quot;: &quot;650627&quot;,
  &quot;hash&quot;: &quot;4FCCBCE5D4335C3A265B5CF22D5B8999451715F8146EB13194711B5EC70B612A&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;gas_used&quot;: &quot;6080310&quot;,
  &quot;initialized_accounts&quot;: [
    &quot;atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw&quot;
  ]
}
The transaction initialized 1 new account
➜ Added alias example-established for address atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw
</code></pre>
<p>Let's transfer ourselves 1000 XAN from the faucet with the same alias using:</p>
<pre><code class="language-shell">$ ./anomac transfer --source faucet --target example-established --token XAN --amount 1000 --signer example-established

➜ Jan 06 22:24:32.926  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
➜ Looking-up public key of atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw from the ledger...
Enter decryption password: 
Last committed epoch: 22388
Transaction added to mempool: Response { code: Ok, data: Data([]), log: Log(&quot;Mempool validation passed&quot;), hash: transaction::Hash(3A5CA1790FDF5150EF1478DE1E3B2D2F7189B0E5D396176E5E5BFC7A37C58D00) }
Transaction applied with result: {
  &quot;info&quot;: &quot;Transaction is valid. Gas used: 1504228; Changed keys: #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw, #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v4ehgw36gc6yxvpjxccyzvphxycrxw2xxsuyydesxgcnjs3cg9znwv3cxgmnj32yxy6rssf5tcqjm3; VPs result:  Accepted: atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw, atest1v4ehgw36gc6yxvpjxccyzvphxycrxw2xxsuyydesxgcnjs3cg9znwv3cxgmnj32yxy6rssf5tcqjm3, atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5;&quot;,
  &quot;height&quot;: &quot;650706&quot;,
  &quot;hash&quot;: &quot;26AAE9D79F62EE8E62108D8D7689F4FFF12EA613AF29C7D4CDBEA999C28C6224&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;gas_used&quot;: &quot;1504228&quot;,
  &quot;initialized_accounts&quot;: []
}
</code></pre>
<p>To get the balance of your account &quot;example-established&quot;:</p>
<pre><code class="language-shell">$ ./anomac balance --owner example-established
</code></pre>
<h2 id="setting-up-the-validator-node"><a class="header" href="#setting-up-the-validator-node">Setting up the validator node</a></h2>
<p>Initialize a validator account under any alias - in this example, &quot;example-validator&quot;:</p>
<pre><code class="language-shell">$ ./anomac init-validator --alias example-validator --source example-established

➜  Jan 06 22:26:29.927  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Generating validator account key...
</code></pre>
<p>You will be asked to enter encryption passwords to generate a validator account key, consensus key and a staking reward account key. After entering the encryption password and a decryption password for the &quot;example-established&quot; account's key, the transaction should be added to the mempool and applied in a future block.</p>
<pre><code class="language-shell">➜ Transaction added to mempool: Response { code: Ok, data: Data([]), log: Log(&quot;Mempool validation passed&quot;), hash: transaction::Hash(F61D3D73CE7EFCC2021940A75B713C499D4942F820F6EC0F7924B70E7F2E751A) }
Transaction applied with result: {
  &quot;info&quot;: &quot;Transaction is valid. Gas used: 15139451; Changed keys: #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/voting_power, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/staking_reward_address, #atest1v4ehgw36xppnjsjzx4ryxs2zgc6nx33hxpq5zve4g5u5xdjpgfz5xv2pg3ryy3zrxyenssfcxn02yg/ed25519_pk, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/total_deltas, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/state, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/consensus_key, #atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/?, #atest1v4ehgw36xppnjsjzx4ryxs2zgc6nx33hxpq5zve4g5u5xdjpgfz5xv2pg3ryy3zrxyenssfcxn02yg/?, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator_set, #atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/ed25519_pk, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/address_raw_hash/DB3D27BF31382E6250C06119C3FDF4672BB3DF5A; VPs result:  Accepted: atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7;&quot;,
  &quot;height&quot;: &quot;650779&quot;,
  &quot;hash&quot;: &quot;3B6AA8F3E6F1951E21703CABA4CCD24F82F6D5C38674041A7AAA1B7227B1E6B8&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;gas_used&quot;: &quot;15139451&quot;,
  &quot;initialized_accounts&quot;: [
    &quot;atest1v4ehgw36xppnjsjzx4ryxs2zgc6nx33hxpq5zve4g5u5xdjpgfz5xv2pg3ryy3zrxyenssfcxn02yg&quot;,
    &quot;atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd&quot;
  ]
}
Added alias example-validator for address atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd.
Added alias example-validator-rewards for address atest1v4ehgw36xppnjsjzx4ryxs2zgc6nx33hxpq5zve4g5u5xdjpgfz5xv2pg3ryy3zrxyenssfcxn02yg.

The validator's addresses and keys were stored in the wallet:
  Validator address &quot;example-validator&quot;
  Staking reward address &quot;example-validator-rewards&quot;
  Validator account key &quot;example-validator-key&quot;
  Consensus key &quot;example-validator-consensus-key&quot;
  Staking reward key &quot;example-validator-rewards-key&quot;
The ledger node has been setup to use this validator's address and consensus key.
</code></pre>
<p>Once the <code>init-validator</code> transaction is applied in the block and the on-chain generated validator's address is stored in your wallet, you MUST restart the <code>anoma ledger</code> node to start the node as a validator that you've just created.</p>
<p>When you restart the node, you might notice log message &quot;This node is not a validator&quot; from Tendermint. This is expected, because your validator doesn't yet have any stake in the <a href="./user-guide/ledger/pos.html">PoS system</a>.</p>
<p>We will now add some stake to your validator account.</p>
<p>Transfer 1000 XAN to your validator account (&quot;example-validator&quot;):</p>
<pre><code class="language-shell">$ ./anomac transfer --source example-established --target example-validator --token XAN --amount 1000

➜  Jan 06 22:28:17.624  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Looking-up public key of atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw from the ledger...
Enter decryption password: 
Last committed epoch: 22392
Transaction added to mempool: Response { code: Ok, data: Data([]), log: Log(&quot;Mempool validation passed&quot;), hash: transaction::Hash(7FD43C7573B4A62E24DBB6C99EE6C7A107DF01CC5F947517B91742E6324AE58D) }
Transaction applied with result: {
  &quot;info&quot;: &quot;Transaction is valid. Gas used: 1989091; Changed keys: #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd, #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw; VPs result:  Accepted: atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd, atest1v4ehgw36ggmyzwp5g9prgsekgsu5y32z8ycnsvpeggcnys35gv65yvzxg3zrjwphgcu5gde4lvmstw, atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5;&quot;,
  &quot;height&quot;: &quot;650842&quot;,
  &quot;hash&quot;: &quot;D251AAB5D4CD9471DB4E11DA09DEF0F15E2A3EC95EE0EE2C76766839FC352394&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;gas_used&quot;: &quot;1989091&quot;,
  &quot;initialized_accounts&quot;: []
}
</code></pre>
<p>Bond the 1000 XAN to &quot;example-validator&quot; using:</p>
<pre><code class="language-shell">$ ./anomac bond --validator example-validator --amount 1000

➜ Jan 06 22:29:08.903  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Looking-up public key of atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd from the ledger...
Enter decryption password: 
Last committed epoch: 22393
Transaction added to mempool: Response { code: Ok, data: Data([]), log: Log(&quot;Mempool validation passed&quot;), hash: transaction::Hash(2B814FE404F6F1D8C07CC3A51AA3038C193810251B9C50107B79698ED15A4EDC) }
Transaction applied with result: {
  &quot;info&quot;: &quot;Transaction is valid. Gas used: 3734939; Changed keys: #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/total_deltas, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/total_voting_power, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator_set, #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd, #atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5/balance/#atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/validator/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/voting_power, #atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7/bond/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd/#atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd; VPs result:  Accepted: atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd, atest1v9hx7w362pex7mmxyphkvgznw3skkefqyqszqgpqyqszqgpqyqszqgpqyqszqgpqyqszqgpqq8ylv7, atest1v4ehgw36x3prswzxggunzv6pxqmnvdj9xvcyzvpsggeyvs3cg9qnywf589qnwvfsg5erg3fkl09rg5;&quot;,
  &quot;height&quot;: &quot;650869&quot;,
  &quot;hash&quot;: &quot;14F5C67D27E2F9695EA40ABEA2DEC69F5B0FFEF5DFD7CB7D0FC397CC8A618BA8&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;gas_used&quot;: &quot;3734939&quot;,
  &quot;initialized_accounts&quot;: []
}
</code></pre>
<p>Check your bond:</p>
<pre><code class="language-shell">$ ./anomac bonds --validator example-validator

➜ Jan 06 22:30:42.798  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Last committed epoch: 22394
Self-bonds:
  Active from epoch 22395: Δ 1000
Bonds total: 1000
</code></pre>
<p>Check the voting power - this will be 0 until the active-from epoch is reached (in this case <code>22395</code>):</p>
<pre><code class="language-shell">$ ./anomac voting-power --validator example-validator

➜ Jan 06 22:31:24.908  INFO anoma_apps::cli::context: Chain ID: anoma-testnet-1.2.bf0181d9f7e0
Last committed epoch: 22395
Validator atest1v4ehgw36g3prx3pjxapyvve3xvury3fkxg6nqsesxccnzw2rxdryg335xcmnysjzxdzyvd2pamfmwd is active, voting power: 1
Total voting power: 44
</code></pre>
<p>Note that with the above command, you can also specify <code>--epoch</code> argument to check a future epoch.</p>
<p>Congratulations, you have set up a validator node!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="user-guide/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="user-guide/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="assets/mermaid.min.js"></script>
        <script type="text/javascript" src="assets/mermaid-init.js"></script>


    </body>
</html>
